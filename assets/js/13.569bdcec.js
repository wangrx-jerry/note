(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{575:function(t,s,r){"use strict";r.r(s);var n=r(17),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"gitlab-自动化部署"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-自动化部署"}},[t._v("#")]),t._v(" gitlab 自动化部署")]),t._v(" "),r("p",[t._v("关键概念：")]),t._v(" "),r("ol",[r("li",[r("p",[r("strong",[t._v("gitlab-ci.yml：自动化部署的配置文件")])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Pipeline & job： Pipeline是Gitlab根据项目的.gitlab-ci.yml文件执行的流程，它由许多个任务节点组成, 而这些Pipeline上的每一个任务节点，都是一个独立的Job")])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Runner：")]),t._v(" Runner可以理解为："),r("strong",[t._v("在特定机器上")]),t._v("根据项目的**.gitlab-ci.yml"),r("strong",[t._v("文件，对项目执行pipeline的")]),t._v("程序**。Runner可以分为两种： "),r("strong",[t._v("Specific Runner")]),t._v(" 和 "),r("strong",[t._v("Shared Runner")])]),t._v(" "),r("p",[t._v("**Shared Runner：**是Gitlab平台提供的免费使用的runner程序")]),t._v(" "),r("p",[t._v("**Specific Runner：**可以自由选择平台，可以是各种类型的机器，如Linux/Windows等，并在上面装配必需的运行环境")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Executor： 上面说过 Specific Runner是在我们自己选择的平台上执行的，这个平台就是我们现在说到的“Executor”")])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("YML文件的基本语法规则")])]),t._v(" "),r("p",[t._v("数组：")]),t._v(" "),r("div",{staticClass:"language-jsx extra-class"},[r("pre",{pre:!0,attrs:{class:"language-jsx"}},[r("code",[r("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("colors")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" red\n\t"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" green\n在"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),t._v("中相当于："),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'colors'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'res'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'green'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),r("p",[t._v("对象：")]),t._v(" "),r("div",{staticClass:"language-jsx extra-class"},[r("pre",{pre:!0,attrs:{class:"language-jsx"}},[r("code",[r("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("person")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" zhangsan\n\t"),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n在"),r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),t._v("中相当于："),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'person'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'name'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zhangsan'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'age'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("gitlab-ci.yml配置的特定关键字:")])])])]),t._v(" "),r("ul",[r("li",[r("p",[t._v("stages")])]),t._v(" "),r("li",[r("p",[t._v("stage")])]),t._v(" "),r("li",[r("p",[t._v("script")])]),t._v(" "),r("li",[r("p",[t._v("tags")]),t._v(" "),r("p",[r("strong",[t._v("stages")]),t._v(": stages定义在YML文件的最外层，它的值是一个数组，用于定义一个pipeline不同的流程节点")]),t._v(" "),r("p",[r("strong",[t._v("stage:")]),t._v(" stages 的一个子项")]),t._v(" "),r("p",[t._v("**script：**脚步")]),t._v(" "),r("p",[r("strong",[t._v("tags")]),t._v(": Job的标记")]),t._v(" "),r("p",[t._v("里程：runner安装提示network问题，解决方法，但是本地没有对应的文件：")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://docs.gitlab.com/runner/configuration/configuring_runner_openshift.html#register-gitlab-runner-with-an-external-url-that-points-to-an-ip-address",target:"_blank",rel:"noopener noreferrer"}},[t._v("Configuring GitLab Runner on OpenShift | GitLab"),r("OutboundLink")],1)])])])])}),[],!1,null,null,null);s.default=a.exports}}]);